\newpage
\begin{frame}
	\fta{Knotenpotentialverfahren}

	\s{
		Die Analyse eines elektrischen Netzwerkes kann mitunter aufwendig werden. Mit größer werdendem Netzwerk steigt 
		auch der Aufwand zur Analyse. Auch reichen unter Umständen die bisher vorgestellten Analysemethoden zu Knoten- 
		und Maschenanalyse nicht aus, um alle Größen eines elektrischen Netzwerkes zu bestimmen. Hier bietet das 
		Knotenpotentialverfahren eine Möglichkeit zur Analyse. Beim Knotenpotentialverfahren werden ausgehend von einem 
		Bezugspotential, mit der Zuordnung 0V, alle übrigen Potentiale bestimmt. Mithilfe des Knotenpotentialverfahrens
		wird folgend das elektrische Netzwerk aus der Abbildung \ref{BildKnotenpotentialverfahren} analysiert.  
    }

	\b{
		\begin{itemize}
			\item Vorbereitung des Netzwerkes
			\item Bestimmung der Knoten und der Knotenpotentiale
			\item Zuordnung der Quellströme
			\item Aufstellung der Leitwertmatrix
			\item Aufstellung des Gleichungsystems
		\end{itemize}
	}

	\fu{   
        \resizebox{0.7\textwidth}{!}{%                                         
        \input{Tikz/src/knotenpotentialverfahren.tex}
        }                                                  
    }{{\bf Netzwerk für das Knotenpotentialverfahren.} Elektrisches Netzwerk mit einer Spannungsquelle, einer Stromquelle und vier Widerständen. Anhand des Netzwerkes wird 
    das Knotenpotentialverfahren erläutert. \label{BildKnotenpotentialverfahren}}  
	
\end{frame}


\newvideofile{Knotpot}{Knotenpotentialverfahren}
\begin{frame}
	\ftx{Lernziele Knotenpotentialverfahren}
	\begin{Lernziele}{Knotenpotentialverfahren}
        Die Studierenden 
        \begin{itemize}
			\item kennen die Schritte des Knotenpotentialverfahrens.
            \item können mit Hilfe des Knotenpotentialverfahrens elektrische Netzwerke analysieren. 
        \end{itemize}                   
    \end{Lernziele}

	\speech{KnotpotLernz}{1}{Das Knotenpotentialverfahren ist neben dem Maschenstromverfahren eine Möglichkeit, um elektrische Netzwerke zu analysieren.
	Hier sollen die notwengien Schritte zur Anwendung des Knotenpotentialverfahrens vorgestellt werden.} 
\end{frame}

\begin{frame}
	\ftb{Vorbereitung des Netzwerkes}

	\s{
		Das Knotenpotentialverfahren arbeitet mit Stromquellen und Leitwerten. Das vorgestellte Netzwerk weist neben der 
		Stromquelle eine Spannungsquelle und Widerstandswerte auf. Diese gilt es umzuwandeln. Die Spannungsquelle wird 
		wie in der Abbildung \ref{BildKnot1} zu einer Stromquelle transformiert. Dabei wird aus dem Reihenwiderstand der 
		Spannungsquelle ein Parallelwiderstand für die Stromquelle. 
	}

	\onslide<1->{
	\b{
		\begin{itemize}
			\item Umwandlung der Spannungsquelle in eine Stromquelle:
		\end{itemize}
	}

	\fu{  
        \resizebox{0.7\textwidth}{!}{%                                     
         \input{Tikz/src/knot1.tex}
		}                                               
    }{{\bf Umwandlung einer Spannungsquelle.} Umwandlung einer Spannungsquelle mit Reihenwiderstand zur Stromquelle mit 
	Parallelwiderstand. \label{BildKnot1}}}   

	\s{
		Bei der Umwandlung der Spannungsquellen in Stromquellen müssen auch die Spannungswerte der Spannungsquellen in 
		Stromwerte überführt werden. Dies erfolgt nach Gleichung \ref{GleichungUmrechnungSpannungsquelle}. 
	}

	\onslide<2->{
	\b{
		\begin{itemize}
			\item Umrechnung der Spannungsquelle zur Stromquelle:
		\end{itemize}
	}

	\begin{eq}
			I_\mathrm{q} = U_\mathrm{q} \cdot G_\mathrm{i} \label{GleichungUmrechnungSpannungsquelle}
		\end{eq}}

	\s{
		Da bei dem Knotenpotentialverfahren nicht die Widerstandswerte der Komponenten verwendet werden, sondern die Leitwerte,
		werden alle Widerstandswerte nach Gleichung \ref{GleichungUmrechnungWiderstand} in Leitwerte umgerechnet. 
	}	

	\onslide<3->{
	\b{
		\begin{itemize}
			\item Berechnung der Leitwerte:
		\end{itemize}
	}

    \begin{eq}               
         G_\mathrm{i} = \frac{1}{R_\mathrm{i}} \label{GleichungUmrechnungWiderstand}
    \end{eq}}

	\s{
		In der Abbildung \ref{BildKnot2} wird die Umwandlung der Spannungsquellen aus dem angegeben Netzwerk in eine äquivalente 
		Stromquellen dargestellt. Aus der Spannungsquelle $U_0$ und dem Widerstand $R_0$ wird die Stromquelle $I_\mathrm{q0}$ und dazu 
		der parallel liegende Leitwert $G_0$. Die restlichen Widerstände werden ebenfalls in Leitwerte überführt.  
	
		\fu{   
        \resizebox{\textwidth}{!}{%                                         
			\input{Tikz/src/knot2.tex}
        }                                                  
    }{{\bf Umwandlung des Netzwerkes für das Knotenpotentialverfahren.} Die Spannungsquelle $U_0$ wird zu der Stromquelle $I_\mathrm{q0}$, außerdem werden die 
	Widerstandsangaben R zu Leitwerten G. \label{BildKnot2}}  
	}

	\speech{KnotpotVorb}{1}{Beim Knotenpotentialverfahren wird mit Stromquellen gearbeitet. 
	Deshalb wird nun gezeigt wie Spannungsquellen in die benötigten Stromquellen umgewandelt werden können. 
	Es bietet sich an, zuvor noch das elektrische Netzwerk zu vereinfachen, beispielsweise durch die Zusammenfassung von Parallelschaltungen.
	Eine Spannungsquelle mit Innenwiderstand in Serie wird wie gezeigt in eine Stromquelle mit parallelem Innenwiderstand umgewandelt.} 
	\speech{KnotpotVorb}{2}{Für die Umwandlung muss der Spannungswert der Spannungsquelle noch in den Stromwert für die Stromquelle überführt werden.
	Dies erfolgt über das Ohmsche Gesetz.}
	\speech{KnotpotVorb}{3}{Die Leitwerte für das Knotenpotentialverfahren ergeben sich aus dem Kehrwert der Widerstandswerte.} 
\end{frame}


\begin{frame}
    \ftx{Knotenpotentialverfahren}

    \begin{Merksatz}{Knotenpotentialverfahren}
        Beim Knotenpotentialverfahren wird ein elektrisches Netzwerk mit Stromquellen und Leitwerten analysiert. 
    \end{Merksatz}

	\speech{KnotpotMrk}{1}{Beim Knotenpotentialverfahren wird ein elektrisches Netzwerk mit Stromquellen und Leitwerten analysiert.} 
\end{frame}




\begin{frame}
	\ftb{Bestimmung der Knoten und der Knotenpotentiale}

	\s{
		Nun müssen die Knoten bestimmt werden. Hierzu legen wir einen Bezugsknoten mit dem Index 0, also $K_0$, fest. 
		Weiter werden alle Knoten fortlaufend nummeriert. Das elektrische Netzwerk mit den nummerierten Knoten wird in der
		Abbildung \ref{BildKnot3} abgebildet. Die eingezeichneten Knoten ohne Komponenten zwischen den nummerierten Knoten
		weisen das identische Potential auf und bilden somit einen Knoten.  
	}

	\onslide<1->{
	\b{
		\begin{itemize}
			\item Festlegung des Bezugsknoten $K_0$ und der fortlaufenden Knoten $K_1$ und $K_2$:
		\end{itemize}
	}
		
	\fu{   
		\resizebox{0.7\textwidth}{!}{%                                         
		\input{Tikz/src/knot3.tex}
		}                                                  
	}{{\bf Umgewandeltes Netzwerk.} Festlegung des Bezugsknotens $K_0$ und der fortlaufenden Knoten $K_1$ und $K_2$. \label{BildKnot3}}} 

	\s{
		Um die Knotenpotentiale festzulegen, werden alle Potentiale der Knoten $K_1$ und $K_2$ auf den Bezugsknoten bezogen. 
		Zur Durchführung des Knotenpotentialverfahrens werden $k-1$ Gleichungen benötigt. Auf das angegebene Netzwerk bezogen, 
		ergeben sich somit zwei Gleichungen, welche in vektorieller Schreibweise nach Gleichung \ref{GleichungKnotenpotentiale} 
		notiert werden. Hier wird das Potential für den Knoten $K_1$ über die Spannung vom Knoten $K_1$ zum Bezugknoten definiert.
		Daraus ergibt sich die Notation $U_\mathrm{K1-K0}$. Selbiges wird für den Knoten $K_2$ durchgeführt. Hier wird die Spannung 
		$U_\mathrm{K2-K0}$ definiert. 
	}

	\onslide<2->{
	\b{
		\begin{itemize}
			\item Es werden $k-1$ Gleichungen benötigt. Es ergibt sich der nachfolgende Spannungsvektor:
		\end{itemize}
	}
		
	\begin{eq}
        U_\mathrm{K} = 
        \begin{bmatrix}
            U_\mathrm{K1-K0} \\
            \\
            U_\mathrm{K2-K0} \\
        \end{bmatrix} \label{GleichungKnotenpotentiale}
    \end{eq}}

	\speech{KnotpotKnot}{1}{Als weiteren Schritt müssen die Knoten gekennzeichnet werden und ein Bezugsknoten festgelegt werden.
	Der Bezugsknoten wird normalerweise mit null gekennzeichnet und die folgenden Knoten fortlaufend durchnummeriert.
	Hier können somit drei Knoten definiert werden.} 
	\speech{KnotpotKnot}{2}{Für das Knotenpotentialverfahren müssen k minus eins Gleichungen aufgestellt werden. 
	So werden hier zwei Spannungsgleichungen definiert, welche in vektorieller schreibweise notiert werden.
	Die Spannungen geben den potentialunterschied vom jeweiligen Knoten zum Bezugsknoten an.} 
\end{frame}

\begin{frame}
	\ftb{Zuordnung der Quellströme}

	\s{
		Für die festgelegten Knoten, abgesehen vom Bezugsknoten, müssen die abfließenden und zufließende Ströme festgehalten werden. 
		Jede Stromquelle an den Knoten wird notiert. Hier werden zufließende Stromquellen mit einem positiven Vorzeichen und abfließende 
		Stromquellen mit einem negativen Vorzeichen versehen. Aus dem Knoten $K_1$ fließt der Strom der Stromquelle $-I_\mathrm{q0}$, dieser 
		Strom wird mit einem negativen Vorzeichen versehen. Aus dem Knoten $K_2$ fließt der Strom der Stromquelle $-I_\mathrm{q2}$ heraus, 
		dieser wird ebenfalls mit einem negativen Vorzeichen versehen. Nach Gleichung \ref{GleichungQuellströme} ergibt sich der 
		Vektor für die Quellströme. 
	}

	\b{
		\begin{itemize}
			\item Zuordnung der Quellströme für jeden Knoten
			\item Abfließende Quellströme weisen ein negatives Vorzeichen auf
			\item Zufließende Quellströme werden positiv notiert
		\end{itemize}
	}

	\begin{eq}
        I_\mathrm{K} = 
        \begin{bmatrix}
            -I_\mathrm{q0} \\
            \\
            -I_\mathrm{q2} \\
        \end{bmatrix} \label{GleichungQuellströme}
    \end{eq}

	\speech{KnotpotQuell}{1}{Folgend werden die Quellströme notiert. Dabei werden abgesehen vom Bezugsknoten für jeden Knoten
	die Stromquellen festgehalten, die in den Knoten einfließen oder ausfließen. Beim Knoten Ka eins fließt der Strom der Quelle 
	I Q null raus. Aus dem Knoten Ka zwei fließt der Strom der Quelle I Q zwei raus. Da es sich bei beiden Knoten und beiden Strömen
	um abfließende Ströme handelt, werden sie mit einem negativen Vorzeichen versehen.} 
\end{frame}

\begin{frame}
	\ftb{Leitwertmatrix}

	\s{
		Nach der Umwandlung der Widerstandswerte in Leitwerte, wird mit den Leitwerten die Leitwertmatrix erstellt. Hierzu werden 
		wieder die Knoten abgesehen vom Bezugsknoten untersucht. Hierfür wird das vorgestellte elektrische Netzwerk noch einmal in 
		der Abbildung \ref{BildLeitwertmatrix} mit farbig hervorgehobenen Zweigen gezeigt. Über die Hauptdiagonale werden die 
		Leitwerte der Knoten notiert. Für jeden Knoten werden die Leitwerte der direkt angrenzenden Komponenten aufgeschrieben. 
		Für den Knoten $K_1$ wären das die an dem blau hervorgehobenen Zweig angrenzenden Leitwerte $G_0$, $G_1$ und $G_3$ und 
		für den Knoten $K_2$ die Leitwerte $G_2$ und $G_3$. Abseits der Hauptdiagonalen auf den anderen Elementen der Leitwertmatrix 
		werden die Leitwerte protokolliert, welche direkt zwischen den Knoten liegen. Zwischen den Knoten $K_1$ und $K_2$ liegt auf 
		direktem Wege der in grün hervorgehobenen Zweig mit dem Leitwert $G_3$. Liegen zwischen den betrachteten Knoten weitere Knoten, 
		so sind diese nicht direkt miteinander Verbunden und in das Element der Leitwertmatrix wird eine 0 eingetragen. Die auf diese 
		Weise angefertigte Leitwertmatrix wird in der Gleichung \ref{GleichungLeitwertmatrix} veranschaulicht. 
	}

	\b{
		\begin{itemize}
			\item<2-> Hauptdiagonale mit den Leitwerten, welche direkt an den Knoten angrenzen
			\item<3-> Übrige Elemente mit den Leitwerten, welche direkt zwischen den Knoten liegen
		\end{itemize}
	}

	\fu{
		\resizebox{0.6\textwidth}{!}{%  
		\input{Tikz/src/leitwertmatrix.tex}		
		}
	}{{\bf Elektrisches Netzwerk mit hervorgehobenen Zweigen.} Erstellung der Leitwertmatrix für das Knotenpotentialverfahren 
	\label{BildLeitwertmatrix}}

	\b{
		\only<1>{
		\begin{eq}
			G_\mathrm{K} =
			\begin{bmatrix} 
				0 & 0 \\
				\\
				0 & 0 \\
			\end{bmatrix} 
		\end{eq}
		}
		\only<2>{
		\begin{eq}
			G_\mathrm{K} =
			\begin{bmatrix} 
				\color{blue}{G_0 + G_1 + G_3} & 0 \\
				\\
				0 & G_2 + G_3 \\
			\end{bmatrix} 
		\end{eq}
		}
		\only<3>{
		\begin{eq}
			G_\mathrm{K} =
			\begin{bmatrix} 
				\color{blue}{G_0 + G_1 + G_3} & \color{green}{-G_3} \\
				\\
				\color{green}{-G_3} & G_2 + G_3 \\
			\end{bmatrix} 
		\end{eq}
		}
	}

	\s{
		\begin{eq}
			G_\mathrm{K} =
			\begin{bmatrix} 
				\color{blue}{G_0 + G_1 + G_3} & \color{green}{-G_3} \\
				\\
				\color{green}{-G_3} & G_2 + G_3 \\
			\end{bmatrix} 
			\label{GleichungLeitwertmatrix}
		\end{eq}
	}

	\speech{KnotpotLeit}{1}{Als nächstes wird die Leitwertmatrix aufgestellt. Es handelt sich bei diesem Netzwerk um eine zwei mal zwei Matrix.} 
	\speech{KnotpotLeit}{2}{Auf der Hauptdiagonalen der Matrix werden die Leitwerte eingetragen, welche direkt an den jeweiligen Knoten angrenzen.
	Für den Knoten Ka eins sind das beispielsweise die Leitwerte G null, G eins und G drei.} 
	\speech{KnotpotLeit}{3}{Die Übrigen Elemente der Matrix werden mit den LEitwerten gefüllt, welche direkt zwischen den Knoten liegen.
	Da sich in diesem Beispiel nur der Leitwert G drei direkt zwischen den knoten befindet, wird dieser zwischen den Knoten eingetragen.
	Die Leitwerte, welche sich zwischen den Knoten befinden, werden in der Matrix mit einem negativen Vorzeichen versehen.} 
\end{frame}

\begin{frame}
	\ftb{Gleichungssystem aufstellen}

	\s{
		Nachdem der Vektor der Knotenpotentiale, der Vektor der Quellströme und die Leitwertmatrix bestimmt wurden, wird aus diesen 
		Gleichungen das Gleichungssystem des Knotenpotentialverfahrens aufgestellt, welches in der Gleichung \ref{GleichungKnot1} 
		angezeigt wird. 
	}

	\b{
		\begin{itemize}
			\item Lösung des Gleichungssystems mit den Verfahren nach Gauß oder der Cramerschen Regel
		\end{itemize}
	}

	\begin{eq}
        \begin{bmatrix} 
            G_0 + G_1 + G_3 & -G_3 \\
            \\
            -G_3 & G_2 + G_3 \\
        \end{bmatrix}
		\cdot
		\begin{bmatrix}
            U_\mathrm{K1-K0} \\
            \\
            U_\mathrm{K2-K0} \\
        \end{bmatrix}
		=
		\begin{bmatrix}
            -I_\mathrm{q0} \\
            \\
            -I_\mathrm{q2} \\
        \end{bmatrix}
    \end{eq} \label{GleichungKnot1}

	\s{
		Das Gleichungssystem des Knotenpotentialverfahrens kann anschließend exemplarisch mit dem Gaußschen Eliminationsverfahren 
		gelöst werden. Durch das Umstellen der Gleichung nach den gesuchten Knotenpotentialen können diese identifiziert werden. Ist so 
		beispielsweise in dem untersuchten Netzwerk die Spannung über den Widerstand $R_1$ berechnet worden, kann der Strom durch 
		den Widerstand bestimmt werden. Als Alternative zum Gaußschen Eliminationsverfahren wäre noch die Cramersche Regel zu nennen
		um lineare Gleichungssysteme zu lösen. 
	}

	\speech{KnotpotGleich}{1}{Mithilfe der Leitwertmatrix, dem Spannungsvektor und dem Vektor der Quellströme lässt sich nun 
	das angegebene Gleichungssystem aufstellen. Durch das Umstellen der Gleichung nach den gesuchten Knotenpotentialen können 
	diese identifiziert werden. Um lineare Gleichungsysteme zu lösen, kann beispielsweise das Gaußsche Eliminationsverfahren oder 
	die Kramersche Regel verwendet werden.} 
\newpage

\end{frame}

\begin{frame}
    \ftx{Beispiel Knotenpotentialverfahren}
    \begin{bsp}{Knotenpotentialverfahren}{}

    \s{
        Analyse des elektrischen Netzwerk aus der Abbildung \ref{BildKnot4} mittels des Knotenpotentialverfahrens. 
    }

	\begin{enumerate}
        \only<1>{			
            \item[]
    Die folgenden Schritte sollen für das Knotenpotentialverfahren bearbeitet werden:

    \begin{itemize}
        \item[a)] Vorbereitung des Netzwerkes
		\item[b)] Bestimmung der Knoten und der Knotenpotentiale
		\item[c)] Zuordnung der Quellströme
		\item[d)] Aufstellung der Leitwertmatrix
		\item[e)] Gleichungssystem aufstellen
    \end{itemize}

    \fu{  
        \resizebox{0.5\textwidth}{!}{%                                     
        \input{Tikz/src/knot4.tex}
        }                  
    }{{\bf Beispiel.} Knotenpotentialverfahren an einem elektrischen Netzwerk. \label{BildKnot4}}                                            
}


        \only<2>{			
            \item[a)] Vorbereitung des Netzwerkes:
			\begin{figure}[H]
                \resizebox{0.65\textwidth}{!}{%
                    \input{Tikz/src/knot5.tex}	
                }\centering                                                           
            \end{figure}
            }
        \only<3>{
            \item[b)] Bestimmung der Knoten und der Knotenpotentiale:
            \onslide<3>{
			\begin{figure}[H]
             	\resizebox{0.4\textwidth}{!}{%                                                        
                    \input{Tikz/src/knot6.tex}
                }\centering                                                           
            \end{figure}
            \pause

			\begin{eq}
				U_\mathrm{K} = 
				\begin{bmatrix}
					U_\mathrm{K1-K0} \\
					\\
					U_\mathrm{K2-K0} \\
					\\
					U_\mathrm{K3-K0} \\
				\end{bmatrix} \nonumber
			\end{eq}
			}
        }
        \only<4>{
            \item[c)] Zuordnung der Quellströme:
            \onslide<4>{
				\begin{eq}
					I_\mathrm{K} = 
					\begin{bmatrix}
						0 \\
						\\
						-I_\mathrm{q0}+I_\mathrm{q1} \\
						\\
						-I_\mathrm{q1}-I_\mathrm{q2} \\
					\end{bmatrix} \nonumber
				\end{eq}
            }
        }
        \only<5>{
            \item[d)] Bestimmung der Leitwertmatrix:
            \onslide<5>{
                \begin{eq}
					G_\mathrm{K} =
					\begin{bmatrix} 
						G_3 + G_4 + G_5 & -G_3 & -G_5 \\
						\\
						-G_3 & G_0 + G_1 + G_3 & -G_1 \\
						\\
						-G_5 & -G_1 & G_1 + G_2 + G_5 \\
					\end{bmatrix} \nonumber
				\end{eq}
            }
        }
        \only<6>{
            \item[e)] Gleichungssystem aufstellen:
            \onslide<6>{
                \begin{eq}
                    \begin{bmatrix} 
                        G_3 + G_4 + G_5 & -G_3 & -G_5 \\
						\\
						-G_3 & G_0 + G_1 + G_3 & -G_1 \\
						\\
						-G_5 & -G_1 & G_1 + G_2 + G_5 \\
                    \end{bmatrix}   
                    \cdot
                    \begin{bmatrix}
                        U_\mathrm{K1-K0} \\
						\\
						U_\mathrm{K2-K0} \\
						\\
						U_\mathrm{K3-K0} \\
                    \end{bmatrix}
                    =
                    \begin{bmatrix}
                        0 \\
						\\
						-I_\mathrm{q0}+I_\mathrm{q1} \\
						\\
						-I_\mathrm{q1}-I_\mathrm{q2} \\
                    \end{bmatrix}\nonumber
                \end{eq} 
            }
        }
    \end{enumerate}    
\end{bsp}{}{}

\speech{KnotpotBsp}{1}{Die Schritte zur Anwendung des Knotenpotentialverfahrens wurden nun erläutert. 
Folgend wird anhand des abgebildeten Beispielnetzwerkes noch einmal die grundsätzliche Arbeitsweise wiederholt.
Hierzu wird das Netzwerk enstprechend für das Knotenpotentialverfahren vorbereitet, die Knoten und die Knotenpotentiale bestimmt,
die Quellströme zugeordnet, die Leitwertmatrix und anschließend das Gleichungssystem aufgestellt.} 
\speech{KnotpotBsp}{2}{Da das Beispielnetzwerk nicht ausschließlich aus Stromquellen besteht, 
müssen die Spannungsquellen mit Serienwiderständen in Stromquellen mit Parallelwiderständen umgewandelt werden.} 
\speech{KnotpotBsp}{3}{Anhand des umgewandelten Netzwerkes werden die Knoten und die zugehörigen Potential definiert.
Hieraus ergibt sich U K der Vektor der Knotenpotentiale.} 
\speech{KnotpotBsp}{4}{Der Stromvektor der Quellströme ergibt sich entsprechend zu I K.
Hier erfolgen keine Einströmungen oder Ausströmungen für den Knoten K Eins. Es wird eine 0 notiert.
Beim Knoten K 2 fließt der Strom I Q 0 aus dem Knoten heraus und der Strom I Q 1 in den Knoten K 2 hinein.
Aus dem Knoten K 3 fließen die Ströme I Q 1 und I Q 2 heraus.} 
\speech{KnotpotBsp}{5}{Die Leitwertmatrix des Beispielnetzwerkes wird als G K dargestellt.} 
\speech{KnotpotBsp}{6}{Zum Schluss wird das Gleichungssystem aufgestellt. Nach den gesuchten Größen umgestellt und berechnet.} 
\end{frame}