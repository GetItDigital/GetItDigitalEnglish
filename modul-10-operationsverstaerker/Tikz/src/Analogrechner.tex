\begin{circuitikz}[scale=0.7, transform shape]
    \ctikzset{
              resistors/scale=0.8,              
              tripoles/en amp/height=1.4, % HÃ¶he des OPV             
              tripoles/en amp/width=1.4,   % Breite des OPV
             capacitors/scale=0.5,
             tripoles/en amp/input height=0.45
    }
         \fill[yellow, opacity=0.2] (-3.1,-1.2) rectangle (1.1,3.5);
         \fill[violet, opacity=0.2] (1.6,-1.6) rectangle (7,2.5);
         \draw[yellow, thick] (-3.1,-1.2) rectangle (1.1,3.5);
         \draw[violet, thick] (1.6,-1.6) rectangle (7,2.5);

         \draw (0,0) node[en amp] (opamp) {}
         (opamp.+) --++ (-0.5,0) node[ground] {} 
         (opamp.-) -- ++(0, 0) to[R, l_=$R_1$] ++(-1.2, 0) node[ocirc, label=left:$U_{E1}$] {}
         (opamp.out) node[circ] {} -- ++(0,1.5) to[C, l_=$C$, *-] ++(-1.9,0) node[circ]{}
         (opamp.out) node[circ] {} -- ++(0,2.8) to[R, l_=$R_2$] ++(-1.9,0) -- ++(0, -2.35) node[circ] {};

        \draw
        (5,-0.45) node[en amp] (opamp2) {}
        (opamp.out) -- ++(1.6,0) to[R, l=$R_3$, -*] (opamp2.-) 
        (opamp2.+)  node[ground] {}
        (opamp2.-) |- ++(0,1) to[R, l=$R_5$] ++(1.9,0) -| (opamp2.out)
        (opamp2.-) -- ++(0,-0.5) -- ++(-0.0,0) to[R, l=$R_4$] ++(-1.438,0) node[ocirc, label=left:$U_{E2}$] {}
        (opamp2.out) to[short, *-o] ++(0.2,0) node[right] {$U_{A}$};

\end{circuitikz}


    


