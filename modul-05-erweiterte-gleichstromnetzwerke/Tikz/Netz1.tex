\begin{circuitikz}
    \draw(0,0) to[V, V<, name=Uq1] (0,3);			
    \draw (6,3) to[R=$R_3$] (6,0);
    \draw (6,0) to[V, name=Uq2] (3,0);
    \draw (3,0) to[R=$R_5$] (0,0);
    \varrmore{Uq1}{$U_{q1}$};
    \varrmore{Uq2}{$U_{q2}$};
    \only<1-3>{ \draw (3,0) to[R=$R_4$, *-*] (3,3);}
    \only<4>{ \draw (3,0) to[R=$R_4$,*-*, i<, v<, name=R4] (3,3);
    \iarrmore{R4}{$I_3$};
    \varrmore{R4}{$U_4$};}
    \only<1-3>{ \draw (0,3) to[R=$R_1$] (3,3);}
    \only<4>{ \draw (0,3) to[R=$R_1$, i, name=R1] (3,3);
    \iarrmore{R1}{$I_1$};}
    \only<1-3>{ \draw (3,3) to[R=$R_2$] (6,3);}
    \only<4>{ \draw (3,3) to[R=$R_2$, i<, name=R2] (6,3);
    \iarrmore{R2}{$I_2$};}

                
    \only<2-4>{\draw[red](3,3.3) node{$K_1$};	
    \draw[red](3,-0.3) node{$K_2$};	}						
    
    \only<3-4>{\def\StartAngle{30}
    \def\EndAngle{320}
    \def\Radius{0.85cm}			
    \draw[voltage, <-] ([shift=(\StartAngle : \Radius)]1.5,1.5)  arc[start angle=\StartAngle, end angle=\EndAngle, radius=\Radius];
    \draw[voltage, <-] ([shift=(\StartAngle : \Radius)]4.8,1.5)  arc[start angle=\StartAngle, end angle=\EndAngle, radius=\Radius];
    \draw[voltage] (2,0.5) -- (1,0.5) arc (270:180:0.5) -- (0.5,2) arc(180:90:0.5) -- (5.15,2.5) arc(90:0:0.5) -- (5.65,1) arc(0:-90:0.5);
    \draw[voltage,->] (5.15,0.5) -- (4,0.5);					
    \draw[voltage](1.5,1.5) node{$M_1$};	
    \draw[voltage](4.8,1.5) node{$M_2$};	
    \draw[voltage](0.5,0.5) node{$M_3$};}
\end{circuitikz}