\begin{frame}
    \fta{Operationsverstärker als Analogrechner}
    \s{
    Neben dem Einsatz von Operationsverstärkern in Messverstärkern, werden OPVs auch in Analogrechnern eingesetzt.
    Das mag in der Zeit hochperformanter Prozessoren nicht mehr relevant wirken, hat aber durchaus Vorteile. So kann die Berechnungszeit mithilfe von Operationsverstärkern deutlich reduziert werden.
    Das macht vor allem in Anwendungen Sinn, in denen nur eine Rechenoperation (Multiplikation, Addition o.ä.) durchgeführt werden soll, aber so gut wie keine Latenzen auftreten dürfen.
    Dies ist heutzutage noch häufig in der Regelungstechnik der Fall. 
    
    Es sollen im Rahmen dieses Kapitels folgende Kompetenzen erworben werden:
    \s{
        \begin{Lernziele}{Operationsverstärker}
            \title{Lernziele: Operationsverstärker als Analogrechner}
            Die Studierenden können
            \begin{itemize}
                \item geeignete Operationsverstärkerschaltungen für eine Problemlösung angegeben.
                \item Widerstandsverhältnisse berechnen.
            \end{itemize}
        \end{Lernziele}
    }
%\speech{Operationsverstärker als Analogrechner}{1}{
%    Neben dem Einsatz von Operationsverstärkern in Messverstärkern, werden OPVs auch in Analogrechnern eingesetzt.
%    Das mag in der Zeit hochperformanter Prozessoren nicht mehr relevant wirken, hat aber durchaus Vorteile. So kann die Berechnungszeit mithilfe von Operationsverstärkern deutlich reduziert werden.
%    Das macht vor allem in Anwendungen Sinn, in denen nur eine Rechenoperation (Multiplikation, Addition o.ä.) durchgeführt werden soll, aber so gut wie keine Latenzen auftreten dürfen.
%    Dies ist heutzutage noch häufig in der Regelungstechnik der Fall.
%    Es sollen im Rahmen dieses Kapitels folgende Kompetenzen erworben werden:
%}

%\speech{Lernziele: Operationsverstärker als Analogrechner}{1}{
%    Die Studierenden können geeignete Operationsverstärkerschaltungen für eine Problemlösung angeben und Widerstandsverhältnisse berechnen. 
%    Sie können mithilfe von Operationsverstärkerschaltungen einen Analogrechner aufbauen und die Funktionsweise erklären.
%}
    Im Folgenden sollen ein Beispiel vorgestellt werden, das zeigen soll, wie mithilfe der in der Tabelle gegebenen Operationsverstärkergrundschaltungen 
    ein Analogrechner aufgebaut werden kann.

    \begin{bsp}{Beispiel Analogrechner}{Beispiel Analogrechner}
        Es soll eine Schaltung entworfen werden, die folgende Funktion umsetzt:
        \begin{equation}
            U_{\textnormal{A}} = \int U_{\textnormal{E1}} dt +x \cdot U_{\textnormal{E1}} - 2\cdot U_{\textnormal{E2}} 
        \end{equation}
        
        \textbf{Lösung}\\
        Zunächst muss die Gleichung in zwei Teilprobleme zerlegt werden, die mithilfe von Operationsverstärkerschaltungen gelöst werden können.
        Das erste Teilproblem bildet die Integration des Eingangssignals $U_{E1}$. Dazu soll zunächst eine Integratorschaltung verwendet werden.
        Das zweite Teilproblem bildet die Addition der Signale. Dafür kann ein Summierer verwendet werden.
        Durch eine Kombination von einer Integratorschaltung und einem Summierer ist also das gewünschte Verhalten zu erreichen. Ist es mit dieser Schaltung möglich x=0 zu wählen?
        
            \fu{
            \resizebox{0.6\textwidth}{!}{\input{Tikz/src/Analogrechner.tex}}
            }{Schaltung zur Lösung der Analogrechneraufgabe
            \label{fig:Analogrechner}}

        \begin{equation}
            U_{\textnormal{A}} = \underbrace{\left[ -\frac{1}{R_1 \cdot C} \int_{0}^{t} U_{\textnormal{E1}}~dt -\frac{R_2}{R_1} \cdot U_{\textnormal{E1}} \right]}_{Formel~des~Integrators} \underbrace{\cdot\left(-\frac{R_5}{R_3}\right)-\frac{R_5}{R_4}\cdot U_{\textnormal{E2}}}_{Formel~des~Summierers} 
        \end{equation}
        Dies kann nun wie folgt umgeformt werden
        \begin{equation}
            U_{\textnormal{A}} = \underbrace{\frac{R_5}{R_1 \cdot R_3 \cdot C}}_{\stackrel{!}{=}1} \int_{0}^{t} U_{\textnormal{E1}}~dt + \underbrace{\frac{R_2 R_5}{R_1 R_3}}_{\stackrel{!}{=}x} U_{\textnormal{E1}} -\underbrace{\frac{R_5}{R_4}}_{\stackrel{!}{=}2} \cdot U_{\textnormal{E2}} 
        \end{equation}

        Wie der Formel zu entnehmen ist, müssen nun die Bauteilwerte nur noch so gewählt werden, dass sich die richtigen Vorfaktoren ergeben.
        Eine Wahl von x=0 ist nur möglich, wenn der Widerstand $R_2$ weggelassen wird. In diesem Fall ergibt sich ein \glqq idealer\grqq{}, der in der Realität so allerdings in der Regel nicht aufgebaut wird. 

    \end{bsp}
   %% \f{width=1\textwidth}{width=\textwidth}{kap5/Analogrechner.tex}{Schaltung zur Lösung der Analogrechneraufgabe \label{fig:Analogrechner Skript}} 


    }
	\b{\frametitle{Operationsverstärker als Analogrechner}
        Es soll eine Schaltung entworfen werden, die folgende Funktion umsetzt:
        \begin{equation}
            U_{\textnormal{A}} = \int U_{\textnormal{E1}} +x \cdot U_{\textnormal{E1}} - 2\cdot U_{\textnormal{E2}} 
        \end{equation}

        Wie kann das erreicht werden? Überlegen Sie sich zunächst, welche Grundschaltungen hierfür zu kombinieren sind. 
        }
\end{frame}

\begin{frame}
    \b{
        \frametitle{Lösungsschritt 1: Verstärkerschaltung}
        Zunächst muss die obere Gleichung in zwei Teilprobleme zerlegt werden, die mithilfe von Operationsverstärkerschaltungen gelöst werden können.
        Das erste Teilproblem bildet die Integration des Eingangssignals $U_{E1}$. Dazu soll zunächst eine Integratorschaltung verwendet werden.
        Das zweite Teilproblem bildet die Addition der Signale. Dafür kann ein Summierer verwendet werden.
        \begin{figure}[ht]
            \centering
            \fu{
            \resizebox{0.7\textwidth}{!}{\input{Tikz/src/Analogrechner.tex}}
            }{Schaltung zur Lösung der Analogrechneraufgabe
            \label{fig:Analogrechner2}}
        \end{figure}
        Durch eine Kombination von einer Integratorschaltung und einem Summierer ist also das gewünschte Verhalten zu erreichen. Ist es mit dieser Schaltung möglich x=0 zu wählen?
        }
\end{frame}

\begin{frame}
    \b{   
        \frametitle{Lösungsschritt 2: Rechnung}
       
        \begin{equation}
            U_{\textnormal{A}} = \underbrace{\left[ -\frac{1}{R_1 \cdot C} \int_{0}^{t} U_{\textnormal{E1}}~dt -\frac{R_2}{R_1} \cdot U_{\textnormal{E1}} \right]}_{Formel~des~Integrators} \underbrace{\cdot\left(-\frac{R_5}{R_3}\right)-\frac{R_5}{R_4}\cdot U_{\textnormal{E2}}}_{Formel~des~Summierers} 
        \end{equation}
        Dies kann nun wie folgt umgeformt werden
        \begin{equation}
            U_{\textnormal{A}} = \underbrace{\frac{R_5}{R_1 \cdot R_3 \cdot C}}_{\stackrel{!}{=}1} \int_{0}^{t} U_{\textnormal{E1}}~dt + \underbrace{\frac{R_2 R_5}{R_1 R_3}}_{\stackrel{!}{=}x} U_{\textnormal{E1}} -\underbrace{\frac{R_5}{R_4}}_{\stackrel{!}{=}2} \cdot U_{\textnormal{E2}} 
        \end{equation}

        Wie der Formel zu entnehmen ist, müssen nun die Bauteilwerte nur noch so gewählt werden, dass sich die richtigen Vorfaktoren ergeben.
        Eine Wahl von x=0 ist nur möglich, wenn der Widerstand $R_2$ weggelassen wird. 
    }
\end{frame}

%\speech{Beispiel 5.1: Beispiel Analogrechner}{1}{
%    Es soll eine Schaltung entworfen werden, die folgende Funktion umsetzt:
%    \begin{equation}
%        U_{\textnormal{A}} = \int U_{\textnormal{E1}} dt +x \cdot U_{\textnormal{E1}} - 2\cdot U_{\textnormal{E2}}
%    \end{equation}
%    Lösung: Zunächst muss die Gleichung in zwei Teilprobleme zerlegt werden, die mithilfe von Operationsverstärkerschaltungen gelöst werden können.
%    Das erste Teilproblem bildet die Integration des Eingangssignals $U_{E1}$. Dazu soll zunächst eine Integratorschaltung verwendet werden.
%    Das zweite Teilproblem bildet die Addition der Signale. Dafür kann ein Summierer verwendet werden.
%    Durch eine Kombination von einer Integratorschaltung und einem Summierer ist also das gewünschte Verhalten zu erreichen. Ist es mit dieser Schaltung möglich x=0 zu wählen?
%   
%    \begin{equation}
%        U_{\textnormal{A}} = \underbrace{\left[ -\frac{1}{R_1 \cdot C} \int_{0}^{t} U_{\textnormal{E1}}~dt -\frac{R_2}{R_1} \cdot U_{\textnormal{E1}} \right]}_{Formel~des~Integrators} \underbrace{\cdot\left(-\frac{R_5}{R_3}\right)-\frac{R_5}{R_4}\cdot U_{\textnormal{E2}}}_{Formel~des~Summierers} 
%    \end{equation}
%    Dies kann nun wie folgt umgeformt werden
%    \begin{equation}
%        U_{\textnormal{A}} = \underbrace{\frac{R_5}{R_1 \cdot R_3 \cdot C}}_{\stackrel{!}{=}1} \int_{0}^{t} U_{\textnormal{E1}}~dt + \underbrace{\frac{R_2 R_5}{R_1 R_3}}_{\stackrel{!}{=}x} U_{\textnormal{E1}} -\underbrace{\frac{R_5}{R_4}}_{\stackrel{!}{=}2} \cdot U_{\textnormal{E2}} 
%    \end{equation}
%
%    Wie der Formel zu entnehmen ist, müssen nun die Bauteilwerte nur noch so gewählt werden, dass sich die richtigen Vorfaktoren ergeben.
%    Eine Wahl von x=0 ist nur möglich, wenn der Widerstand $R_2$ weggelassen wird. In diesem Fall ergibt sich ein \glqq idealer\grqq{}, der in der Realität so allerdings in der Regel nicht aufgebaut wird.   
%}
%\speech{
%Abbildung 5.1 zeigt eine elektronische Schaltung zur Lösung einer Analogrechneraufgabe. Die Schaltung ist in zwei farblich gekennzeichnete Bereiche unterteilt: einen gelben Bereich links und einen violetten Bereich rechts.
%
%Im linken Bereich befindet sich ein Operationsverstärker mit einer Rückkopplungsschleife, die aus einem Widerstand und einem Kondensator besteht. Der nicht-invertierende Eingang des Operationsverstärkers ist mit Masse verbunden. Der invertierende Eingang ist über einen Widerstand mit der Eingangsspannung U E 1 verbunden. Die Ausgangsspannung dieses Verstärkers wird auf eine nachfolgende Stufe weitergeleitet.
%
%Im rechten Bereich befindet sich eine weitere Operationsverstärkerschaltung mit mehreren Widerständen. Zwei Eingangsspannungen, U E 1 und U E 2, werden an die Schaltung angelegt. Die Widerstände R 3 und R 4 bestimmen die Verstärkungsfaktoren für die Eingangssignale. Am Ausgang des zweiten Operationsverstärkers liegt die Ausgangsspannung U A an.
%
%Die Kombination dieser beiden Operationsverstärkerschaltungen erlaubt eine spezifische Signalverarbeitung, die für die Analogrechneraufgabe erforderlich ist.
%}